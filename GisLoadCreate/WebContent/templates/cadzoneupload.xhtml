<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">

<h:head>
	<h:outputStylesheet library="css" name="myCss.css" />
</h:head>
<h:body>
	<ui:composition>
		<h:form id="form">
	    <h3>CadZone:</h3>
	    <p>Selectati cadzona sau cadzonele pentru incarcare:</p>
	    <h:panelGrid columns="2">

			    <p:selectCheckboxMenu id="cadzoneList" value="#{cadzoneDataBase.selectedcadzone}" multiple="true" filter="true" filterMatchMode="startsWith" panelStyle="width:350px">
					<f:selectItems value="#{cadzoneDataBase.cadZoneList}" />
				</p:selectCheckboxMenu>
			    
			    <p:commandLink actionListener="#{cadzoneDataBase.executUpload()}" value="Start"  id="ajaxUploadCadZone" styleClass="btn" update=":form:cadzoneList" onclick="PF('dlg1').show()" disabled="#{cadzoneDataBase.disabled}" />
	   		</h:panelGrid>						
		    
		   <p:dialog header="Incarcarea Cadzonelor"  modal="true" widgetVar="dlg1" minHeight="40">
		   		<h:panelGrid columns="2">
    				<h:outputText value="Inceputul executarii" />
    				<p:commandLink value="Close" styleClass="btn" oncomplete="PF('dlg1').hide()" update=":form:cadzoneList, :form:ajaxUploadCadZone"  />
    			</h:panelGrid>
			</p:dialog>
		</h:form>
	</ui:composition>
</h:body>
</html>